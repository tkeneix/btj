#BackTester for Java Platform

## 概要
金融商品のトレードを行うストラテジを実装し、ヒストリカルデータに基づいて  
売買シュミレーション（バックテスト）を行うプログラムです。 

バックテストを実行するserverとserverへバックテストを依頼するclientで構成されています。  
clientとserver間は分散オブジェクト基盤のCORBAにより連携しており、serverの名前解決に  
tnameserverを使用します。  

## 使い方と特徴
serverを複数Coreを有する計算サーバで起動しておき、手元のPCでストラテジを開発します。  
開発したストラテジ(jarファイル一式)をJobとしてserverへ登録し、serverはバックグラウンドでバックテストを実行します。  
serverは複数のJobをキューイングでき、マルチスレッドで並列にバックテストを実行できます。  
clientから同時実行数や新しく登録するJobの優先順位を指定することができます。  

## 動作確認

### Linux上のローカルホストでお試しで使ってみる方法
1. JDKをダウンロードしてインストールする(JDK1.7以降)
2. btj_setenv.shをエディタで開いてJDKのパス(JAVA_HOME)と  
   当該ディレクトリのパス(APP_HOME)を指定。
   パスはスペースを含めないこと。
3. btj_startns.shを実行し、ネーミングサービスを起動する。
4. btj_startserver.shを実行し、バックテストサーバを起動する。
5. btj_loadDS.shを実行し、ヒストリカルデータを登録する。
6. btj_strategy.sh Yorihikeを実行し、ストラテジをバックテストサーバに登録する。
7. TALLY_LOGディレクトリが生成され、その中にディールログ、集計ログが  
   出力される。


## 構成管理

### プロジェクト構成
* btj_core  
  - バックテストのためのデータソース管理、発注管理、共通機能などを構成するプロジェクト  
* btj_service  
  - バックテストをサービス化するための機能を提供するプロジェクト  
* btj_user  
  - バックテストのストラテジを実装するプロジェクト  

### ファイルセット構成
* lib  
  プロジェクトごとのjarファイルを格納  
* DataSource  
  検証のためのデータを格納（サンプルとして２２５先物の４本値）  
* build.sh  
  各プロジェクトをビルドする簡易スクリプト  
* clean.sh  
  各プロジェクトをビルド前の状態に戻す簡易スクリプト  
* btj_xxx.sh  
  サービス起動やデータ読込などのコマンドのバッチ
* *.properties  
  サービス（サーバ）側の設定、クライアント側の設定


## 補足
* 数値計算をBigDecimalでなくdoubleで実装している点など、細かいところには配慮しておりません。  
　ざっくり結果が知れれば良いというコンセプトです。  
* 付属のストラテジはあくまでもサンプルであり、推奨するものではございません。  
* 腕試しの目的で可能な限りJava同梱のAPIを利用してスクラッチで開発しています。（昨今はOSSを活用したほうが良いでしょう）  

- 以上 -
